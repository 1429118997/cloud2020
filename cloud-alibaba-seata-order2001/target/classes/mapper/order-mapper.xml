<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="com.cloud.dao.OrderDao">
    <resultMap id="basicResultMap" type="com.cloud.entites.Order">
        <id     property="id" column="id"  jdbcType="BIGINT" ></id>
        <result property="userId" column="user_id" jdbcType="BIGINT"></result>
        <result property="produceId" column="produce_id" jdbcType="BIGINT"></result>
        <result property="count" column="count" jdbcType="BIGINT"></result>
        <result property="money" column="money" jdbcType="DECIMAL"></result>
        <result property="status" column="status" jdbcType="INTEGER"></result>
    </resultMap>
     <insert id="create" parameterType="com.cloud.entites.Order"  useGeneratedKeys="true" keyProperty="id">
         INSERT INTO t_order(user_id,produce_id,`count`,money,`status`)
              VALUES(#{userId},#{produceId},#{count},#{money},#{status})
     </insert>


     <update id="update" >
         UPDATE t_order SET `status`=1 WHERE id=#{id} and `status`=0
     </update>
</mapper>    